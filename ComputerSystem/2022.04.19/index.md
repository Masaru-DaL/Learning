# 2022.04.19.Computer System
# コンピュータ構成要素
この回ではコンピュータを構成する装置とそれぞれの役割、そしてCPU内部の仕組みを学習します。
## 到達目標
- コンピュータの5大装置を知り、当人なりに説明できる。
- プログラム動作の仕組みを知り、当人なりに説明できる。
  - (計算問題の準備)コンピュータの補助単位を知る。
- フローチャートと疑似言語の、『分岐構造』を、読み書きできる。

# 決定表(デシジョンテーブル)
条件とそれに対する行動を整理した表のこと。

## 記述ルール
- 見出し部
  - どういった決定表なのかを示す(名前を付ける)
- 条件表題部
  - 条件を記入
- 条件記入部
  - Y(YES): 条件が満たされるとき
  - N(NO): 満たされないとき
  - -: 行動に影響を与えない
- 行動表題部
  - 行動を記入
- 行動記入部
  - X: 実行するとき
  - -: 実行しないとき

- 見方としては縦に見る。
  - 条件 -> 行動(結果)が出されるので、書く際も縦に考えた方が良いであろう。

### 出題分析(過去問)
- システム開発で用いる設計技法のうち、決定表を説明したのはどれか。
  - (ウ)
    - 条件の組み合わせとそれに対する動作とを表現したものである。

### ITパスポート過去問
#### 出典：平成22年秋期　問69
二つの変数xとyに対して，次の手続きを(1)から順に実行する。処理が終了したとき，xの値は幾らになるか。

〔手続き〕
(1) xに2を代入し，yに3を代入する。
(2) ｙの値から1を引いたものをyに代入する。
(3) xの値とyの値を加えたものをxに代入する。
(4) y≠1なら手続き(2)に戻り，y＝1なら終了する

x = 2, y = 3
y = y - 1 // y = 2
x = x + y // x = 4
-> y = 2 なので (2)へ戻る
y = y - 1 // y = 1
x = x + y // x = 5
-> y = 1 なので、処理を終了する
この時のxは、5。

#### ITパスポート平成22年春期 問79
業務の改善提案に対する報奨を次の行に基づいて決めるとき，改善額が200万円で，かつ，期間短縮が3日の改善提案に対する報奨は何円になるか。ここで表は，条件が成立の場合は Y を，不成立の場合は N を記入し，これらの条件に対応した時の報奨を○で表してある。
-> 10,000円

#### 出典：平成16年秋期　問15 アルゴリズム
試験の合否を判定する次の決定表から読み取れるものはどれか。ここで，試験は労務管理，経理及び英語の3科目で構成され，それぞれの満点は100とする。
-> (エ)

#### 出典：平成21年春期　問21 ファイルシステム
絶対パス名 ¥a¥a¥b¥c を持つディレクトリがカレントディレクトリであるとき、相対パス .¥..¥..¥a¥b¥file をもつファイルを絶対パス名で表現したものはどれか。
ここで、ディレクトリ及びファイルの指定方法は、次の規則に従うものとする。
-> \a\a\a\b\file
手書きで書いた方が理解しやすい。

## センサー技術
- 情報の収集・転送
- ウェアラブルデバイス
  - 使用者が身に着ける端末のこと
  - ヘルスケアの分野で多くのサービスや製品が登場している
  - 将来的には蓄積されたデータの利活用が期待される
- センサーの種類
  - 音や照度、圧力、超音波、電磁気、顔や指紋などの人感センサーなど
  - 人間の五感に相当する感覚、自然界の物理現象、科学的性質などを読み取るものなど
  - ありとあらゆる種類のセンサーがある
    - こうしたセンターから検出した情報は、インターネットを介してクラウドに送信される
情報を収集・分析するIoTの要素であるセンサーはモノ自体と、その周辺環境の状態を感知しデータを収集するために欠かせないものである。
- モノとの組み合わせ方によって、得られるデータの質や幅が広がる
- センサーによって収集できるデータの種類は多種多様
  - 例えば目や耳、鼻や舌といった「人間の感覚器」に例えると把握しやすい
  - 例: カメラ・赤外線 -> 目(感覚), マイク -> 耳(聴覚), etc...
- センサーを検出の対象で分類
  - 内界センサー
    - 機器の内部状況を検出
    - 加速度センサー、ジャイロセンサー、マイクロスイッチ、角度センサーなど
  - 外界センサー
    - 機器の外部状況を検出
    - 接触型
      - 圧力センサーのように、物理的に何かと接触することでデータを収集するセンサー
    - 非接触型
      - 光センサーやマイクロフォン、超音波、温度などが挙げられ、これらは光や音など実際に何かと接触することなく、外界の状況からデータを収集するタイプ

# コンピュータシステム
## 合格教本第2章
- コンピュータ構成要素
  - プロセッサ、メモリ、入出力装置など
## プロセッサ
- 内容はコンピュータの仕組み全体を含んでいる
- 動作原理としては論理回路とアドレッシングの出題が目立つ
## コンピュータの構成と動作
- コンピュータの中身
  - 制御装置
  - 演算装置
  - 記憶装置(主記憶装置・補助記憶装置)
  - 入力装置
  - 出力装置

- 処理装置
  - 一般的にはCPU, プロセッサと呼ばれる
  - 演算装置や制御装置を持つ
  - コンピュータの中核装置として、演算処理や各装置への制御を行う

上記のような(コンピュータの中身の)基本構造(コンピュータアーキテクチャ)の大元は、数学者フォン・ノイマンが提唱したのノイマン型コンピュータと呼ばれるコンピュータである。

## ノイマンコンピュータ
- プログラム内蔵方式(stored program)
  - あらかじめプログラムとデータを主記憶装置(メモリ)に格納しておく方式
  - プログラムやデータを入れ替える事で、処理内容の変更に容易に対応できる
  - ストアドプログラムとも呼ばれる
- 逐次制御方式(sequential control)
  - 命令を主記憶装置から取り出して解読し、その内容によってデータを取り出し、処理を実行するという一連の流れを自動式に繰り返すことで、プログラムを実行していく方式
    - 自動的に繰り返す処理
      - ①命令を主記憶装置から取り出す
      - ②取り出した命令を解読
      - ③解読した内容にそってデータを取り出す
      - ④処理を実行
      - ⑤ -> ①に戻る
  - 逐次制御に対して、先回り制御を行う**パイプライン処理**が考え出されている

## 非ノイマン型コンピュータ
脳神経回路の仕組みをもとにしたニューロコンピュータ、量子力学を情報処理に応用した量子コンピュータなどが挙げられる

昔はコンピュータと言ったらノイマン型コンピュータしかなかった。

## CPUの種類
- CISC(Complex Instruction Set Computer)
  - 複雑な処理を1命令で実行するために、マイクログラムを採用したCPUのアーキテクチャのこと
  - マイクロプログラム制御方式
  - Intel / AMD
- RISC(Reduced Instruction Set Computer)
  - CISCより効率よく動作させる方式として考え出されたアーキテクチャのこと
  - 命令数を減らして単純化し、1命令の長さとその実行時間を一定にすることでパイプライン処理などの高速化を実現している
  - 単純な命令をハードウェアで実行し、複雑な処理はその組み合わせで実行する
  - ワイヤドロジック制御方式

- パソコン&サーバ: CISC
  - 現在のパソコンに使われるCPUの主流はCISC

- 組み込み: RISC
  - 低電圧で稼働する事

### CISCの特徴
- 命令セット
  - 簡易な命令から高機能な命令まで多くの種類がある
- 命令長
  - 命令ごとに異なり、長い
- レジスタ数
  - 少ない
- 命令実行方式
  - マイクロプログラム制御方式
- パイプライン処理
  - 適さない
- 同一処理当たりのステップ数
  - 少ない

### RISCの特徴
パッパと処理したい
- 命令セット
  - 単純な基本的な命令に制限される
- 命令長
  - 固定長で短い
- レジスタ数
  - 多い
- 命令実行方式
  - ワイヤドロジック制御方式
- パイプライン処理
  - 適する
- 同一処理当たりのステップ数
  - 多い

### マイクロプログラム制御の特徴
- 処理速度
  - 低速
- 拡張性・機能保守
  - 容易
- エミュレーション
  - 可能
### ワイヤドロジック制御の特徴
- 処理速度
  - 高速
- 拡張性・機能保守
  - 困難
- エミュレーション
  - 不可能

## CPUの構成と動作の仕組み
- レジスタとは
  - 高速で容量の小さな記憶装置のこと
- CPU
  - 演算装置と制御装置で構成され、たがいに連携しながら処理を行う。
  - レジスタを持ち、命令解読、演算を実行していく

### レジスタの種類
制御装置内にある制御用レジスタと、演算装置内にある演算用レジスタに分けられる。
- 制御用レジスタ
  - 命令アドレスレジスタ(IAR: Instruction Address Redister)
    - **次に実行する命令のアドレスを記憶する**
    - 色々な別名がある(それだけ試験に出ているということ)
      - プログラムカウンタ、プログラムレジスタ、命令カウンタ、逐次制御カウンタ
  - 命令レジスタ(IR: Instruction Register)
    - 主記憶から読みだされた命令を収納するレジスタ
    - 内容は命令解読器で解読される
- 演算用レジスタ
  - アキュムレータ(塁算器)
    - 演算装置内にある演算用レジスタで、演算結果や演算途中のデータ格納される
  - インデックスレジスタ(インデックス = 指標)
    - 命令の番地部(アドレス部)を指定する値が入る
- 汎用レジスタ
  - 計算用、アドレス指定用など、さまざまな用途に使われるレジスタで、複数が備わっている

## プログラム動作の仕組み
- コンピュータは、「入力する」「計算する」「出力する」などの基本動作を指示する「命令」によって動いている。
  - これら一連の命令を組み合わせたものが**プログラム**である。
- プログラムの実行に先立ち、主記憶装置上の連続した領域にプログラムが格納(ロード)され、実行開始番地(アドレス)がプログラムレジスタにセットされ、同時に必要なデータも主記憶装置に読み込まれる。
  - -> プログラムの実行に先立って、メモリ上(主記憶装置上の連続した領域)に複数のプログラム(命令)が格納される。この格納を、**ロード**という。
- 主記憶装置上のプログラムは、**命令サイクル**と**実行サイクル**を繰り返すことで処理を進めていく。

### 命令サイクル(Iサイクル: Instruction fetch cycle)
- 主記憶装置から命令を取り出し、命令を解読する一連の工程のこと
- **命令フェッチ**とも呼ばれる。

### 実行サイクル(Eサイクル: Execution cycle)
- 命令を解読し、解読された命令をアドレス番地に基づいて、実行 -> 処理結果の書き込みを行う工程のこと

### CPU命令実行サイクル
ひと命令の実行は、「命令読み出し」 ->「命令の解読」 -> 「有効アドレスの計算」 -> 「オペランドの取り出し」 -> 「命令の実行」 -> 「結果の書き込み」 と言った**ステージ**に分割される。
それぞれのステージの実行にかかる時間を**マシンサイクル**と呼ぶ。

- ①命令フェッチ(Fetch)
  - 命令を主記憶から取り出し、CPUの命令レジスタに取り込む
- ②命令の解読(Decode)
  - 命令コードを解読する
- ③実行アドレス計算(Address Calculation)
  - 命令対象となるオペランドの格納場所を計算して求める
- ④オペランド読み出し(Read)
  - 主記憶の実行アドレスにアクセスし、オペランドを読み出す
- ⑤命令の実行(Execution)
  - 命令を実行し、必要に応じて結果データを主記憶に書き込む

## 単位、補助単位とべき乗
- コンピュータで利用される単位は、次のようになる。
  - bit(ビット) = コンピュータで表現される最小単位。情報は0か1のみ。
  - byte(バイト) = 8ビット -> 1バイト

以下、補助単位
  - T(テラ) --> 10¹²
  - G(ギガ) --> 10⁹
  - M(メガ) --> 10⁶
  - k(キロ) --> 10³
  - m(ミリ) --> 10⁻³
  - μ(マイクロ) --> 10⁻⁶
  - n(ナノ) --> 10⁻⁹
  - p(ピコ) --> 10⁻¹²
